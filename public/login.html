<!DOCTYPE html>
<html>

<head>
    <title>Log In</title>
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="57x57" href="./assets/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./assets/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./assets/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./assets/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./assets/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./assets/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./assets/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./assets/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/icons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="css/util/bootstrap.css">
    <link rel="stylesheet" href="css/util/animate.css">
    <link rel="stylesheet" href="fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="fonts/font-awesome.min.css">
    <link rel="stylesheet" href="fonts/ionicons.min.css">
    <link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/api/colormind.js"></script>
    <script src="js/api/countries.js"></script>
    <script src="js/api/jquery.min.js"></script>
    <script src="js/api/popper.min.js"></script>
    <script src="js/api/bootstrap.bundle.js"></script>
    <script src="js/api/w3.js"></script>
    <script src="js/api/heading.js"></script>

    <script src="js/search.js"></script>
    <script src="js/user.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/main.js"></script>
    <script src="js/restaurant.js"></script>
    <script src="js/review.js"></script>
    <script src="js/site.js"></script>

    <script>
        // Login
        function login() {
            var credentials = new Object();
            username = document.getElementById("username").value;
            credentials.username = document.getElementById("username").value;
            credentials.password = document.getElementById("password").value;

            var request = new XMLHttpRequest();
            request.open("POST", "/login", true);
            request.setRequestHeader("Content-Type", "application/json");
            request.onload = function () {
                response = JSON.parse(request.responseText);
                document.getElementById("loginForm").style.display = "none";
                if (response.message == "1") {
                    window.location = "index.html?username=" + credentials.username;
                }
                // Call this function to change login status to "true"
                else {
                    alert(response.message);
                }
            };

            request.send(JSON.stringify(credentials));
        }
    </script>
</head>

<body>
    <style>
        .login-clean {
            background-image: url('./images/restaurants/1/pic3.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        }
    </style>
    <div class="login-clean">
        <form id="loginForm" onsubmit="login()">
            <h2 class=" sr-only">Login Form</h2>
            <div class="illustration"><i class="fas fa-sign-in-alt"></i></div>
            <h4 class="text-center"><strong>Welcome back!</strong></h4><br>
            <div class="form-group">
                <input class="form-control" type="text" id="username" placeholder="Username">
            </div>
            <div class="form-group">
                <input class="form-control" type="password" id="password" placeholder="Password">
            </div>
            <div class="form-group">
                <button class="btn btn-primary btn-block" style="font-weight: bold; font-style: italic"><strong>Log
                        In</strong></button>
            </div>
            <a class="forgot" href="forgot.html">Forgot your email or password?</a>
        </form>
    </div>
</body>
<script>
    w3.includeHTML();
    // Includes other HTML files in this file
</script>

</html>